{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/index.css'%}">
    <link rel="stylesheet" href="{% static 'css/hero.css'%}">
    <link rel="stylesheet" href="{% static 'css/upload.css'%}">
    <link rel="stylesheet" href="{% static 'css/data_preview.css'%}">
    <link href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <script src="{% static 'js/upload.js' %}"></script>
    <title>keyline</title>
</head>
<body>
    <nav class="navbar side_navbar">
        <wrapper class="navbar_container side_nav_container">
            <a href="#" class="navbar_logo">
                <img src="{% static 'images/logo.svg' %}" alt="" />
            </a>
            <a href="#" class='brand_link'>
                <span class="brand_name">keyline</span>
            </a>
            
            <ul class="navbar_links">
                 <li  class="closebar">
                    <a href="">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg>
                    </a>
                 </li>
                <li>
                    <a href="#">Home</a>
                </li>
                <li>
                    <a href="#contacts">Contact Us</a>
                </li>
                <li>
                    <a href="#about">About</a>
                </li>
                
                <li>
                    <a href="#" class="button-outline side_navbar_btn" onClick="alert('You clicked the link!'); return false;">
                        Log In
                    </a>
                </li>
                <li>
                    <a href="#" class="button-primary side_navbar_btn" onClick="alert('You clicked the link!'); return false;">
                        Sign Up
                    </a>
                </li>
            </ul>
            <a href="" class="button-outline navbar_btn_out">
                Log In
            </a>
            <a href="" class="button-primary navbar_btn_out">
                Sign Up
            </a>
            <div class='navbar_menubar'>
                <FaBars />
            </div>
        </wrapper>
    </nav>
    <section class="hero">
        <aside class="sidebar">
            <!--File Upload section on side bar begin-->
            <section class="upload-area">
              <form class="form-container" enctype='multipart/form-data'>
                {% csrf_token %}
                 <!-- Text input for table_name -->
                  <div class="input-group">
                    <label for="id_table_name">Table Name:</label>
                    <input type="text" name="table_name" id="id_table_name" required>
                    {% if form.table_name %}
                    <div class="error">
                      {% for error in form.table_name.errors %}
                        <p>{{ error }}</p>
                      {% endfor %}
                    </div>
                    {% endif %}
                </div>
                <div class="upload-files-container">
                  <div class="drag-file-area">
                    <span class="material-icons-outlined upload-icon"> file_upload </span>
                    <h3 class="dynamic-message"> Drag & Drop<br />csv files here </h3>
                    <label class="label"> or <span class="browse-files"> <input type="file" class="default-file-input" name="file_upload"/> <span class="browse-files-text">browse file</span> <span>from device</span> </span> </label>
                     <!-- Display errors for file_upload -->
                      {% if form.file_upload.errors %}
                      <div class="error">
                          {% for error in form.file_upload.errors %}
                              <p>{{ error }}</p>
                          {% endfor %}
                      </div>
                      {% endif %}

                  </div>
                  <span class="cannot-upload-message"> <span class="material-icons-outlined">error</span> Please select a file first <span class="material-icons-outlined cancel-alert-button">cancel</span> </span>
                  <div class="file-block">
                    <div class="file-info"> <span class="material-icons-outlined file-icon">description</span> <span class="file-name"> </span> | <span class="file-size">  </span> </div>
                      <span class="material-icons remove-file-icon">delete</span>
                    <div class="progress-bar"> </div>
                  </div>
                  <button type="submit" class="upload-button"> Upload </button>
                </div>
              </form>
              {% if succ %}
                  <div class="success-message">
                      <p>File uploaded successfully for table: {{ table_name }}</p>
                  </div>
              {% endif %}
              
             </section>
            <!--File Upload section on side bar end-->


          </aside>
          <main class="container">
            <div class="data_preview">
              {% if data %}
              <h2>File Contents {{ file.name }}</h2>
              <table border="1" class="table table-striped">
                  {% for row in data %}
                      <tr>
                          {% for cell in row %}
                              <td>{{ cell }}</td>
                          {% endfor %}
                      </tr>
                  {% endfor %}
              </table>
          {% endif %}
            </div>
            <div class="page-divider">
              <span class="page-number">2</span>
            </div>
            <p>All day long we seemed to dawdle through a country which was full of beauty of every kind. Sometimes we saw little towns or castles on the top of steep hills such as we see in old missals; sometimes we ran by rivers and streams which seemed from the wide stony margin on each side of them to be subject to great floods. It takes a lot of water, and running strong, to sweep the outside edge of a river clear. At every station there were groups of people, sometimes crowds, and in all sorts of attire. Some of them were just like the peasants at home or those I saw coming through France and Germany, with short jackets and round hats and home-made trousers; but others were very picturesque. The women looked pretty, except when you got near them, but they were very clumsy about the waist. They had all full white sleeves of some kind or other, and most of them had big belts with a lot of strips of something fluttering from them like the dresses in a ballet, but of course there were petticoats under them. The strangest figures we saw were the Slovaks, who were more barbarian than the rest, with their big cow-boy hats, great baggy dirty-white trousers, white linen shirts, and enormous heavy leather belts, nearly a foot wide, all studded over with brass nails. They wore high boots, with their trousers tucked into them, and had long black hair and heavy black moustaches. They are very picturesque, but do not look prepossessing. On the stage they would be set down at once as some old Oriental band of brigands. They are, however, I am told, very harmless and rather wanting in natural self-assertion.</p>
            <p>It was on the dark side of twilight when we got to Bistritz, which is a very interesting old place. Being practically on the frontier—for the Borgo Pass leads from it into Bukovina—it has had a very stormy existence, and it certainly shows marks of it. Fifty years ago a series of great fires took place, which made terrible havoc on five separate occasions. At the very beginning of the seventeenth century it underwent a siege of three weeks and lost 13,000 people, the casualties of war proper being assisted by famine and disease.</p>
            <div class="page-divider">
              <span class="page-number">3</span>
            </div>
            <p>Count Dracula had directed me to go to the Golden Krone Hotel, which I found, to my great delight, to be thoroughly old-fashioned, for of course I wanted to see all I could of the ways of the country. I was evidently expected, for when I got near the door I faced a cheery-looking elderly woman in the usual peasant dress—white undergarment with long double apron, front, and back, of coloured stuff fitting almost too tight for modesty. When I came close she bowed and said, “The Herr Englishman?” “Yes,” I said, “Jonathan Harker.” She smiled, and gave some message to an elderly man in white shirt-sleeves, who had followed her to the door. He went, but immediately returned with a letter:</p>
            
            <blockquote>“My Friend. — Welcome to the Carpathians. I am anxiously expecting you. Sleep well to-night. At three to-morrow the diligence will start for Bukovina; a place on it is kept for you. At the Borgo Pass my carriage will await you and will bring you to me. I trust that your journey from London has been a happy one, and that you will enjoy your stay in my beautiful land.<br>
              <span>Your friend,<br>
                Dracula.
              </span>
            </blockquote>
          </main>
          <div class="third-column">
            <p>Uploaded Data Tables</p>
            <ul>
              {% for file in files %}
                  <li>
                      <a href="?upload_id={{ file.id }}">{{ file.name }}</a>
                  </li>
              {% endfor %}
            </ul>
          </div>
    </section>

</body>
</html>