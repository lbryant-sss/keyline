{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/index.css'%}">
    <link rel="stylesheet" href="{% static 'css/hero.css'%}">
    <link rel="stylesheet" href="{% static 'css/upload.css'%}">
    <link rel="stylesheet" href="{% static 'css/data_preview.css'%}">
    <link href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined" rel="stylesheet">
    <script src="{% static 'js/search.js' %}" defer></script>
    <script src="{% static 'js/upload.js' %}"></script>
    <title>keyline</title>
</head>
<body>
    <nav class="navbar side_navbar">
        <wrapper class="navbar_container side_nav_container">
            <a href="#" class="navbar_logo">
                <img src="{% static 'images/logo.svg' %}" alt="" />
            </a>
            <a href="#" class='brand_link'>
                <span class="brand_name">keyline</span>
            </a>
            
            <ul class="navbar_links">
                 <li  class="closebar">
                    <a href="">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg>
                    </a>
                 </li>
                <li>
                    <a href="#">Home</a>
                </li>
                <li>
                    <a href="#contacts">Contact Us</a>
                </li>
                <li>
                    <a href="#about">About</a>
                </li>
                
                <li>
                    <a href="#" class="button-outline side_navbar_btn" onClick="alert('You clicked the link!'); return false;">
                        Log In
                    </a>
                </li>
                <li>
                    <a href="#" class="button-primary side_navbar_btn" onClick="alert('You clicked the link!'); return false;">
                        Sign Up
                    </a>
                </li>
            </ul>
            <a href="" class="button-outline navbar_btn_out">
                Log In
            </a>
            <a href="" class="button-primary navbar_btn_out">
                Sign Up
            </a>
            <div class='navbar_menubar'>
                <FaBars />
            </div>
        </wrapper>
    </nav>
    <section class="hero">
        <aside class="sidebar">
            <!--File Upload section on side bar begin-->
            <section class="upload-area">
              <form class="form-container" enctype='multipart/form-data' method="POST">
                {% csrf_token %}
                 {{ form }}
                 <input type="submit" value="Upload">
                </form> 
             </section>
            <!--File Upload section on side bar end-->


          </aside>
          <main class="container">
            {% if data %}
            <div class="data_preview">
              
              <h2>File Contents {{ file.name }}</h2>
              <!--Data Query Form-->
              <form method="GET">
                <input id="searchInput" type="text" name="search" placeholder="Search" value="{{ search_query }}">
                <input type="hidden" name="upload_id" value="{{ selected_upload_id }}">
                <button type="submit">Search</button>
            </form>
              <!--Data Query End-->
              <table id="dataTable">
                <thead>
                    <tr>
                        {% if data %}
                            {% for column in data.0 %}
                                <th>{{ column }}</th>
                            {% endfor %}
                        {% endif %}
                    </tr>
                </thead>
                <tbody>
                    {% if data %}
                    {% for row in data|slice:"1:" %}
                            <tr>
                                {% for cell in row %}
                                    <td>{{ cell }}</td>
                                {% endfor %}
                            </tr>
                        {% endfor %}
                    {% endif %}
                </tbody>
            </table>
            </div>
          {% endif %}
            
            <div class="page-divider">
              <span class="page-number">2</span>
            </div>
            <p>
                <strong>Data Exploration</strong>
                <ul>
                    <li>{{ statistics }}</li>
                </ul>
            </p>
                <p>It was on the dark side of twilight when we got to Bistritz, which is a very interesting old place. Being practically on the frontier—for the Borgo Pass leads from it into Bukovina—it has had a very stormy existence, and it certainly shows marks of it. Fifty years ago a series of great fires took place, which made terrible havoc on five separate occasions. At the very beginning of the seventeenth century it underwent a siege of three weeks and lost 13,000 people, the casualties of war proper being assisted by famine and disease.</p>
            <div class="page-divider">
              <span class="page-number">3</span>
            </div>
            <p>Count Dracula had directed me to go to the Golden Krone Hotel, which I found, to my great delight, to be thoroughly old-fashioned, for of course I wanted to see all I could of the ways of the country. I was evidently expected, for when I got near the door I faced a cheery-looking elderly woman in the usual peasant dress—white undergarment with long double apron, front, and back, of coloured stuff fitting almost too tight for modesty. When I came close she bowed and said, “The Herr Englishman?” “Yes,” I said, “Jonathan Harker.” She smiled, and gave some message to an elderly man in white shirt-sleeves, who had followed her to the door. He went, but immediately returned with a letter:</p>
            
            <blockquote>“My Friend. — Welcome to the Carpathians. I am anxiously expecting you. Sleep well to-night. At three to-morrow the diligence will start for Bukovina; a place on it is kept for you. At the Borgo Pass my carriage will await you and will bring you to me. I trust that your journey from London has been a happy one, and that you will enjoy your stay in my beautiful land.<br>
              <span>Your friend,<br>
                Dracula.
              </span>
            </blockquote>
          </main>
          <div class="third-column">
            <p class="upload-list-label">Uploaded Data Tables</p>
            <ul class="home-list">
              {% for file in files %}
                  <li>
                      <a href="?upload_id={{ file.id }}">{{ file.name }}</a>
                  </li>
              {% endfor %}
            </ul>
          </div>
    </section>
</body>
</html>